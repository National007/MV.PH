
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>我的桌面</title>
    <link href="/lib/css/H-ui.min.css" rel="stylesheet" type="text/css" />
    <link href="/lib/css/H-ui.admin.css" rel="stylesheet" type="text/css" />

    <link href="/lib/Hui-iconfont/1.0.1/iconfont.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        .box {
            width: 1200px;
            margin: 0 auto;
        }

            .box ul li {
                width: 245px;
                height: 245px;
                float: left;
                margin: 10px;
                border: 1px solid #e6e6e6;
                list-style: none;
            }

                .box ul li img {
                    width: 100%;
                    min-height: 245px;
                }
    </style>
</head>
<body>
    <div class="box">
        <ul>
            <li><img originalsrc="/images/sdfsdf.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_2.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_1.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/1_030ZTF23528.jpg" /></li>
            <li><img originalsrc="/images/1_1225092K5R48.jpg" /></li>
            <li><img originalsrc="/images/1_122FU1035612.jpg" /></li>
            <li><img originalsrc="/images/_30.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_1.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/hua_8.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_2.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_1.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/1_030ZTF23528.jpg" /></li>
            <li><img originalsrc="/images/1_1225092K5R48.jpg" /></li>
            <li><img originalsrc="/images/1_122FU1035612.jpg" /></li>
            <li><img originalsrc="/images/_30.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/_1.jpg.680.510.jpg" /></li>
            <li><img originalsrc="/images/16.jpg" /></li>
            <li><img originalsrc="/images/17.jpg" /></li>
            <li><img originalsrc="/images/18.jpg" /></li>
            <li><img originalsrc="/images/19.jpg" /></li>
        </ul>
    </div>

    @{
        HttpCookie ltime = new HttpCookie("loginTime");
        ltime.Value = DateTime.Now.ToString();
        ltime.Expires = DateTime.Now.AddDays(1);
        Response.Cookies.Add(ltime);

        int Number;
        if (Request.Cookies["Number"] == null)
        {
            Number = 1;
        }
        else
        {
            Number = Convert.ToInt32(Request.Cookies["Number"].Value) + 1;
            Response.Cookies["Number"].Value = Convert.ToString(Number);

            Response.Cookies["Number"].Expires = DateTime.Now.AddYears(1);
        }

    }

    <div class="pd-20" style="padding-top:20px;">

        <select id="column" name="column">
            <option>==请选择==</option>
            <option value="text">新闻</option>
            <option value="image">爆笑图片</option>
            <option value="video">搞笑视频</option>
            <option value="text">军事</option>
        </select>

        <select id="type" name="type" disabled style="width:200px;">
            <option>==请选择==</option>
        </select>

        <div>
            <select id="DropProvince" style="width:100px;">
                <option value="">==省==</option>
            </select>
            <select id="sCity" style="width:100px;">
                <option value="">==市==</option>
            </select>
            <select id="sArea" style="width:100px;">
                <option value="">==县==</option>
            </select>
        </div>

        @*<div class="bdsharebuttonbox" data-tag="share_1">
                    <a class="bds_mshare" data-cmd="mshare"></a>
                    <a class="bds_qzone" data-cmd="qzone" href="#"></a>
                    <a class="bds_tsina" data-cmd="tsina"></a>
                    <a class="bds_tieba" data-cmd="tieba"></a>
                    <a class="bds_renren" data-cmd="renren"></a>
                    <a class="bds_tqq" data-cmd="tqq"></a>
                    <a class="bds_more" data-cmd="more">更多</a>
                    @*<a class="bds_count" data-cmd="count"></a>
                </div>
                <script>
            window._bd_share_config = {
                share : [{
                    "bdSize" : 16
                }],
                slide : [{
                    bdImg : 0,
                    bdPos : "right",
                    bdTop : 100
                }, {
                    bdImg: 0,
                    bdPos: "left",
                    bdTop: 100
                }],
                image : [{
                    viewType : 'list',
                    viewPos : 'top',
                    viewColor : 'black',
                    viewSize: "16",
                    viewText: "分享到：",
                    viewList: ['tieba', 'tsina', 'huaban', 'tqq', 'renren']
                }],
                selectShare : [{
                    "bdselectMiniList" : ['qzone','tqq','kaixin001','bdxc','tqf']
                }]
            }
            with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
                </script>*@

        <p class="f-20 text-success">XXX后台管理系统<span class="f-14">v1.0</span></p>
        @*<p style="border:1px solid red;width: 50px;
            /*必须设置宽度*/
            overflow: hidden;  /*溢出隐藏*/
            text-overflow: ellipsis; /*以省略号...显示*/
            white-space: nowrap;  /*强制不换行*/">涛逼最丑，很丑，很丑</p>*@
        <p>登录次数：@Number </p>
        @*<a data-toggle="modal" href="#myModal" class="btn btn-primary size-L">弹出对话框</a>*@
        <a href="~/lib/Hui-iconfont/1.0.1/demo.html" target="_blank">图标字体生成器</a>
        <p>
            上次登录IP：
            @(HttpContext.Current.Request.ServerVariables["REMOTE_ADDR"])、
            @(HttpContext.Current.Request.ServerVariables["HTTP_X_FORWARDED_FOR"]) 、
            @(HttpContext.Current.Request.UserHostAddress)、
            @(System.Net.Dns.GetHostAddresses(System.Net.Dns.GetHostName()).GetValue(0).ToString())
            上次登录时间：@ltime.Value
        </p>



        <table class="table table-border table-bordered table-bg">
            <thead>
                <tr>
                    <th colspan="7" scope="col">信息统计</th>
                </tr>
                <tr class="text-c">
                    <th>统计</th>
                    <th>资讯库</th>
                    <th>图片库</th>
                    <th>产品库</th>
                    <th>用户</th>
                    <th>管理员</th>
                </tr>
            </thead>
            <tbody>
                <tr class="text-c">
                    <td>总数</td>
                    <td>92</td>
                    <td>9</td>
                    <td>0</td>
                    <td>8</td>
                    <td>20</td>
                </tr>
                <tr class="text-c">
                    <td>今日</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <tr class="text-c">
                    <td>昨日</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <tr class="text-c">
                    <td>本周</td>
                    <td>2</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <tr class="text-c">
                    <td>本月</td>
                    <td>2</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
            </tbody>
        </table>
        @{
            string SeverCoputerName = "http://" + HttpContext.Current.Request.Url.Host + HttpContext.Current.Request.ApplicationPath;

        }
        <table class="table table-border table-bordered table-bg mt-20">
            <thead>
                <tr>
                    <th colspan="2" scope="col">服务器信息</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th width="200">服务器计算机名</th>
                    <td>
                        <span id="lbServerName">
                            @SeverCoputerName
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>服务器IP地址</td>
                    <td>@(Request.ServerVariables["LOCAl_ADDR"])</td>
                </tr>
                <tr>
                    <td>服务器域名</td>
                    <td>@(Request.ServerVariables["SERVER_NAME"].ToString())</td>
                </tr>
                <tr>
                    <td>服务器端口 </td>
                    <td>@(Request.ServerVariables["Server_Port"].ToString())</td>
                </tr>
                <tr>
                    <td>服务器IIS版本 </td>
                    <td>@(Request.ServerVariables["Server_SoftWare"].ToString())</td>
                </tr>
                <tr>
                    <td>本文件所在文件夹 </td>
                    <td>@Request.PhysicalApplicationPath</td>
                </tr>
                <tr>
                    <td>服务器操作系统 </td>
                    <td>@(Environment.OSVersion.ToString())</td>
                </tr>
                <tr>
                    <td>系统所在文件夹 </td>
                    <td>@(Environment.SystemDirectory.ToString())</td>
                </tr>
                <tr>
                    <td>服务器脚本超时时间 </td>
                    <td>@(((Server.ScriptTimeout / 1000).ToString()) + "秒") </td>
                </tr>
                <tr>
                    <td>服务器的语言种类 </td>
                    <td></td>
                </tr>
                <tr>
                    <td>.NET Framework 版本 </td>
                    <td>@string.Concat(new object[] { Environment.Version.Major, ".", Environment.Version.Minor, Environment.Version.Build, ".", Environment.Version.Revision })</td>
                </tr>
                <tr>
                    <td>服务器当前时间 </td>
                    <td>@DateTime.Now.ToString()</td>
                </tr>
                <tr>
                    <td>服务器上次启动到现在已运行 </td>
                    <td>@(((Environment.TickCount / 0x3e8) / 60).ToString() + "分钟")  </td>
                </tr>
                <tr>
                    <td>逻辑驱动器 </td>
                    <td>
                        @{
                            string[] achDrives = Directory.GetLogicalDrives();
                            for (int i = 0; i < Directory.GetLogicalDrives().Length - 1; i++)
                            {
                                @achDrives[i].ToString();
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <td>CPU 总数 </td>
                    <td>@(Environment.GetEnvironmentVariable("NUMBER_OF_PROCESSORS").ToString())</td>
                </tr>
                <tr>
                    <td>CPU 类型 </td>
                    <td>@(Environment.GetEnvironmentVariable("PROCESSOR_IDENTIFIER").ToString())</td>
                </tr>
                <tr>
                    <td>虚拟内存 </td>
                    <td>@((Environment.WorkingSet / 1024).ToString() + "M") </td>
                </tr>
                <tr>
                    <td>当前程序占用内存 </td>
                    <td>@(((Double)GC.GetTotalMemory(false) / 1048576).ToString("N2") + "M")</td>
                </tr>
                <tr>
                    <td>Asp.net所占内存 </td>
                    <td></td>
                </tr>
                <tr>
                    <td>当前Session数量 </td>
                    <td>@(Session.Contents.Count.ToString())</td>
                </tr>
                <tr>
                    <td>当前SessionID </td>
                    <td>@(Session.Contents.SessionID)</td>
                </tr>
                <tr>
                    <td>当前系统用户名 </td>
                    <td>@Environment.UserName</td>
                </tr>
            </tbody>
        </table>
    </div>
    <footer class="footer">
        <p>
            Copyright &copy;2016 XXX后台管理系统v1.0<br>
            本后台系统由<a href="http://www.mingthink.com/" style="color:#0094ff;" target="_blank">铭信科技有限公司</a>提供框架技术支持
        </p>
    </footer>
      @*对联广告
    <div class="dual dual_l"><img src="~/images/weixin.jpg" alt="" title="广告" style="width:100px;height:300px;" /><a href="#" class="dual_close">X关闭</a></div>
    <div class="dual dual_r"><img src="~/images/user.png" alt="" title="广告" style="width:100px;height:300px;" /><a href="#" class="dual_close">X关闭</a></div>*@
    
      @*返回顶部
    <div class="go-top dn" id="go-top">
        <a href="javascript:;" class="uc-2vm"></a>
        <div class="uc-2vm-pop dn">
            <h2 class="title-2wm">用微信扫一扫</h2>
            <div class="logo-2wm-box">
                <img src="/images/weixin.jpg" alt="小松鼠工作网" width="240" height="240">
            </div>
        </div>
        <a href="http://www.lanrentuku.com/about/guestbook.html" target="_blank" class="feedback"></a>
        <a href="javascript:;" class="go"></a>
    </div>*@
          
    <style type="text/css">
        .dual {
            top: 260px;
            position: absolute;
            width: 102px;
            overflow: hidden;
            display: none;
            z-index: 100;
        }

        .dual_l {
            left: 6px;
        }

        .dual_r {
            right: 6px;
        }

        .dual_con {
            border: #CCC solid 1px;
            width: 100px;
            height: 300px;
            overflow: hidden;
            background-color: #0C9;
        }

        .dual_close {
            width: 100%;
            height: 24px;
            line-height: 24px;
            text-align: center;
            display: block;
            font-size: 13px;
            color: #555555;
            text-decoration: none;
        }


        .dn {
            display: none;
        }

        /* 返回顶部 */
        .go-top {
            position: fixed;
            bottom: 40px;
            right: 20px;
            width: 46px;
            z-index: 999;
        }

            .go-top a {
                display: block;
                width: 46px;
                height: 46px;
                margin-bottom: 10px;
                background-image: url(/images/go-top.png);
            }

                .go-top a:last-child {
                    margin-bottom: 0;
                }

            .go-top .go {
                background-position: 0 -150px;
            }

                .go-top .go:hover {
                    background-position: 0 -250px;
                }

            .go-top .feedback {
                background-position: 0 -100px;
            }

                .go-top .feedback:hover {
                    background-position: 0 -300px;
                }

            .go-top .uc-2vm {
                background-position: 0 0;
            }

                .go-top .uc-2vm:hover {
                    background-position: 0 -350px;
                }
            /*
        .go-top .share{background-position: 0 -50px;}
        .go-top .share:hover{background-position: 0 -200px;}
        */
            .go-top .uc-2vm-pop {
                position: absolute;
                right: 60px;
                top: -100px;
                width: 240px;
                box-shadow: 0px 1px 4px rgba(0,0,0,.1);
                background: #fff;
            }

                .go-top .uc-2vm-pop .title-2wm {
                    font-size: 14px;
                    margin: 10px 20px;
                }

                .go-top .uc-2vm-pop .logo-2wm-box {
                    position: relative;
                }
    </style>
    <script src="~/lib/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="~/lib/js/H-ui.js"></script>
    <script src="~/lib/js/lyz.delayLoading.min.js"></script>
    <script src="~/lib/bootstrap-modal/2.2.4/bootstrap-modal.js"></script>
    <script src="~/lib/bootstrap-modal/2.2.4/bootstrap-modalmanager.js"></script>

    @*<script src="~/js/Common.js"></script>
        <script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "2", "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {}, "image": { "viewList": ["qzone", "tsina", "tqq", "renren", "weixin"], "viewText": "分享到：", "viewSize": "16" }, "selectShare": { "bdContainerClass": null, "bdSelectMiniList": ["qzone", "tsina", "tqq", "renren", "weixin"] } }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
        <script>
        window._bd_share_config = {
            slide : [{
                bdImg : 0,
                bdPos : "right",
                bdTop : 100
            },{
                bdImg : 0,
                bdPos : "left",
                bdTop : 100
            }]
        }
        </script>*@
    <script type="text/javascript">
        $(function () {
            $("img").delayLoading({
                defaultImg: "/images/user.png",           // 预加载前显示的图片
                errorImg: "",                        // 读取图片错误时替换图片(默认：与defaultImg一样)
                imgSrcAttr: "originalSrc",           // 记录图片路径的属性(默认：originalSrc，页面img的src属性也要替换为originalSrc)
                beforehand: 0,                       // 预先提前多少像素加载图片(默认：0)
                event: "scroll",                     // 触发加载图片事件(默认：scroll)
                duration: "normal",                  // 三种预定淡出(入)速度之一的字符串("slow", "normal", or "fast")或表示动画时长的毫秒数值(如：1000),默认:"normal"
                container: window,                   // 对象加载的位置容器(默认：window)
                success: function (imgObj) { },      // 加载图片成功后的回调函数(默认：不执行任何操作)
                error: function (imgObj) { }         // 加载图片失败后的回调函数(默认：不执行任何操作)
            });
        });

        var dual = $(".dual");
        var dual_close = $("a.dual_close");
        var screen_w = screen.width;
        if (screen_w > 1024) { dual.show(); }
        $(window).scroll(function () {
            var scrollTop = $(window).scrollTop();
            dual.stop().animate({ top: scrollTop + 260 });
        });
        dual_close.click(function () {
            $(this).parent().hide(); return false;
        });


        $(function () {

            //省
            $.ajax({
                url: "/XML/City.xml",
                success: function (xml) {
                    $(xml).find("province").each(function () {
                        var t = $(this).attr("name");//this->
                        $("#DropProvince").append("<option>" + t + "</option>");
                    });
                }
            });
            //市
            $("#DropProvince").change(function () {
                $("#sCity>option").remove();
                $("#sArea>option").remove();
                var pname = $("#DropProvince").val();
                if (pname != "") {
                    $.ajax({
                        url: "/XML/City.xml",
                        success: function (xml) {
                            ///查找<province>下的所有第一级子元素(即城市)
                            $(xml).find("province[name='" + pname + "']>city").each(function () {
                                var city = $(this).attr("name");//this->
                                $("#sCity").append("<option>" + city + "</option>");
                            });
                            ///查找<city>下的所有第一级子元素(即区域)
                            var cname = $("#sCity").val();
                            $(xml).find("city[name='" + cname + "']>area").each(function () {
                                var area = $(this).attr("name");//this->
                                $("#sArea").append("<option>" + area + "</option>");
                            });
                        }
                    });
                }
                else {
                    $("#sCity").append("<option>==市==</option>");
                    $("#sArea").append("<option>==县==</option>");
                }
            });
            //区
            $("#sCity").change(function () {
                $("#sArea>option").remove();
                var cname = $("#sCity").val();
                $.ajax({
                    url: "/XML/City.xml",
                    success: function (xml) {
                        ///查找<city>下的所有第一级子元素(即区域)
                        $(xml).find("city[name='" + cname + "']>area").each(function () {
                            var area = $(this).attr("name");//this->
                            $("#sArea").append("<option>" + area + "</option>");
                        });
                    }
                });
            });

            $("#column").change(function () {
                $("#type>option").remove();
                if ($(this).val() == "text") {
                    $("#type").append("<option value='text'>文本</option>");
                }
                if ($(this).val() == "image") {
                    $("#type").append("<option value='image'>图片</option>");
                }
                if ($(this).val() == "video") {
                    $("#type").append("<option value='video'>视频</option>");
                }
            });

            $(window).on('scroll', function () {
                var st = $(document).scrollTop();
                if (st > 0) {
                    if ($('#main-container').length != 0) {
                        var w = $(window).width(), mw = $('#main-container').width();
                        if ((w - mw) / 2 > 70)
                            $('#go-top').css({ 'left': (w - mw) / 2 + mw + 20 });
                        else {
                            $('#go-top').css({ 'left': 'auto' });
                        }
                    }
                    $('#go-top').fadeIn(function () {
                        $(this).removeClass('dn');
                    });
                } else {
                    $('#go-top').fadeOut(function () {
                        $(this).addClass('dn');
                    });
                }
            });
            $('#go-top .go').on('click', function () {
                $('html,body').animate({ 'scrollTop': 0 }, 500);
            });

            $('#go-top .uc-2vm').hover(function () {
                $('#go-top .uc-2vm-pop').removeClass('dn');
            }, function () {
                $('#go-top .uc-2vm-pop').addClass('dn');
            });
        });
    </script>
</body>
</html>
